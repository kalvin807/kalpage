@import 'tailwindcss';
@plugin '@tailwindcss/typography';

@theme {
  --color-bg: oklch(0.17 0.004 60);
  --color-bg-card: oklch(0.24 0.004 60);
  --color-text: oklch(0.70 0.006 60);
  --color-text-heading: oklch(0.95 0.008 80);
  --color-text-muted: oklch(0.53 0.004 60);
  --color-accent: oklch(0.56 0.004 60);
  --color-accent-50: oklch(0.56 0.004 60 / 0.5);
  --color-accent-30: oklch(0.56 0.004 60 / 0.3);
  --color-accent-10: oklch(0.56 0.004 60 / 0.1);
  --color-glow: oklch(0.58 0.006 60 / 0.08);
  --color-glow-shadow: oklch(0.50 0.006 60 / 0.12);
  --font-heading: 'Jost', 'Futura', 'Century Gothic', sans-serif;
  --font-mono: 'Space Mono', 'SF Mono', 'Fira Code', monospace;
  --radius-card: 12px;
  --radius-pill: 100px;
}

/* ========================================
   Glow Card Custom Properties
   ======================================== */
:root {
  --border-width: 2px;
  --gradient: conic-gradient(
    from 180deg at 50% 70%,
    hsla(0, 0%, 98%, 1) 0deg,
    #eec32d 72deg,
    #ec4b4b 144deg,
    #709ab9 216deg,
    #4dffbf 288deg,
    hsla(0, 0%, 98%, 1) 1turn
  );
}

/* ========================================
   @property for animated gradient
   ======================================== */
@media (prefers-reduced-motion: no-preference) {
  @property --angle {
    inherits: true;
    initial-value: 180deg;
    syntax: '<angle>';
  }
}

@property --start {
  syntax: '<number>';
  inherits: true;
  initial-value: 0;
}

/* ========================================
   Base Styles
   ======================================== */
html {
  scroll-behavior: smooth;
}

body {
  background: var(--color-bg);
  color: var(--color-text);
  font-family: var(--font-heading);
  font-weight: 400;
}

/* ========================================
   Background — atmospheric glow
   ======================================== */
body::after {
  content: '';
  z-index: 0;
  position: fixed;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(ellipse 600px 400px at 10% 5%, oklch(0.30 0.015 60 / 0.4), transparent),
    radial-gradient(ellipse 500px 500px at 85% 50%, oklch(0.25 0.010 60 / 0.25), transparent);
}

/* ========================================
   Hero Heading (gradient text animation)
   ======================================== */
.hero-heading {
  font-family: var(--font-heading);
  font-weight: 700;
  line-height: 1.1;
  font-size: clamp(2.5rem, 1.5rem + 4vw, 4.5rem);
  background:
    conic-gradient(
      from var(--angle, 180deg) at 50% 70%,
      hsla(0, 0%, 98%, 1) 0deg,
      #eec32d 72deg,
      #ec4b4b 144deg,
      #709ab9 216deg,
      #4dffbf 288deg,
      hsla(0, 0%, 98%, 1) 1turn
    ),
    linear-gradient(var(--color-text-muted), var(--color-text-muted)),
    linear-gradient(var(--color-text-muted) 0 2lh, transparent);
  background-repeat: no-repeat;
  background-size: 100% 1lh, 100% 2lh, 100% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  margin: 0;
  display: inline-block;
}

@media (prefers-reduced-motion: no-preference) {
  @keyframes rotate {
    to {
      --angle: 540deg;
    }
  }

  .hero-heading {
    animation: rotate 6s infinite linear;
  }
}

@media (prefers-reduced-motion: no-preference) {
  @keyframes fadeUp {
    from {
      opacity: 0;
      transform: translateY(16px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}

/* ========================================
   Timeline (Experience)
   ======================================== */
.timeline {
  position: relative;
  padding-left: 2rem;
}

.timeline::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0.5rem;
  bottom: 0.5rem;
  width: 1px;
  background: var(--color-accent);
  opacity: 0.4;
}

.timeline-item::before {
  content: '';
  position: absolute;
  left: -2rem;
  top: 0.55rem;
  width: 7px;
  height: 7px;
  border-radius: 50%;
  background: var(--color-accent);
  transform: translateX(-3px);
}

.timeline-desc ul {
  margin: 0.25rem 0 0;
  padding-left: 1.25rem;
}

.timeline-desc li {
  margin-bottom: 0.25rem;
}

/* Scroll-driven entrance */
@media (prefers-reduced-motion: no-preference) {
  .timeline-item {
    animation: fadeUp 0.5s ease both;
    animation-timeline: view();
    animation-range: entry 0% entry 30%;
  }
}

/* ========================================
   Glow Cards (Projects) — from Pen 2
   ======================================== */
.card-grid {
  --spread: 60;
  --gap: 24;
  --blur: 20;
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: calc(var(--gap) * 1px);
  touch-action: none;
  position: relative;
}

@media (max-width: 640px) {
  .card-grid {
    grid-template-columns: 1fr;
  }
}

.glow-card {
  --active: 0.15;
  --start: 0;
  background: var(--color-bg-card);
  padding: 1.5rem;
  border-radius: var(--radius-card);
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  position: relative;
  transition: transform 0.2s ease, box-shadow 0.3s ease;
  box-shadow:
    inset 0 1px 0 0 oklch(1 0 0 / 0.05),
    0 1px 3px 0 oklch(0 0 0 / 0.15),
    0 0 0 1px oklch(1 0 0 / 0.04);
}

.glow-card:hover {
  z-index: 2;
  transform: translateY(-2px);
  box-shadow:
    inset 0 1px 0 0 oklch(1 0 0 / 0.07),
    0 4px 16px 0 oklch(0 0 0 / 0.25),
    0 0 0 1px oklch(1 0 0 / 0.06);
}

/* Glow pseudo-elements */
.glow-card .glows {
  pointer-events: none;
  position: absolute;
  inset: 0;
  filter: blur(calc(var(--blur) * 1px));
}

.glow-card .glows::after,
.glow-card .glows::before {
  content: '';
  background: var(--gradient);
  background-attachment: fixed;
  position: absolute;
  inset: -5px;
  border: 10px solid transparent;
  border-radius: var(--radius-card);
  mask:
    linear-gradient(#0000, #0000),
    conic-gradient(
      from calc((var(--start) - (var(--spread) * 0.5)) * 1deg),
      #000 0deg,
      #fff,
      #0000 calc(var(--spread) * 1deg)
    );
  -webkit-mask:
    linear-gradient(#0000, #0000),
    conic-gradient(
      from calc((var(--start) - (var(--spread) * 0.5)) * 1deg),
      #000 0deg,
      #fff,
      #0000 calc(var(--spread) * 1deg)
    );
  mask-clip: padding-box, border-box;
  -webkit-mask-clip: padding-box, border-box;
  mask-composite: intersect;
  -webkit-mask-composite: source-in, xor;
  opacity: var(--active);
  transition: opacity 1s;
}

.glow-card::before {
  position: absolute;
  inset: 0;
  border: var(--border-width) solid transparent;
  content: '';
  border-radius: var(--radius-card);
  pointer-events: none;
  background: var(--color-accent);
  background-attachment: fixed;
  mask:
    linear-gradient(#0000, #0000),
    conic-gradient(
      from calc(((var(--start) + (var(--spread) * 0.25)) - (var(--spread) * 1.5)) * 1deg),
      hsl(0 0% 100% / 0.15) 0deg,
      white,
      hsl(0 0% 100% / 0.15) calc(var(--spread) * 2.5deg)
    );
  -webkit-mask:
    linear-gradient(#0000, #0000),
    conic-gradient(
      from calc(((var(--start) + (var(--spread) * 0.25)) - (var(--spread) * 1.5)) * 1deg),
      hsl(0 0% 100% / 0.15) 0deg,
      white,
      hsl(0 0% 100% / 0.15) calc(var(--spread) * 2.5deg)
    );
  mask-clip: padding-box, border-box;
  -webkit-mask-clip: padding-box, border-box;
  mask-composite: intersect;
  -webkit-mask-composite: source-in, xor;
  opacity: var(--active);
  transition: opacity 1s;
}

.glow-card::after {
  content: '';
  pointer-events: none;
  position: absolute;
  background: var(--gradient);
  background-attachment: fixed;
  border-radius: var(--radius-card);
  opacity: var(--active, 0);
  transition: opacity 1s;
  inset: 0;
  border: var(--border-width) solid transparent;
  mask:
    linear-gradient(#0000, #0000),
    conic-gradient(
      from calc(((var(--start) + (var(--spread) * 0.25)) - (var(--spread) * 0.5)) * 1deg),
      #0000 0deg,
      #fff,
      #0000 calc(var(--spread) * 0.5deg)
    );
  -webkit-mask:
    linear-gradient(#0000, #0000),
    conic-gradient(
      from calc(((var(--start) + (var(--spread) * 0.25)) - (var(--spread) * 0.5)) * 1deg),
      #0000 0deg,
      #fff,
      #0000 calc(var(--spread) * 0.5deg)
    );
  filter: brightness(1.5);
  mask-clip: padding-box, border-box;
  -webkit-mask-clip: padding-box, border-box;
  mask-composite: intersect;
  -webkit-mask-composite: source-in, xor;
}

/* ========================================
   Education
   ======================================== */
.education-item {
  margin-bottom: 1.25rem;
}

.education-item:last-child {
  margin-bottom: 0;
}

.education-title {
  font-family: var(--font-heading);
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-text-heading);
  margin: 0 0 0.15rem;
}

.education-school {
  font-family: var(--font-mono);
  font-size: 0.75rem;
  color: var(--color-accent);
}

/* ========================================
   Painting Pixels
   ======================================== */

/* Grid — the artwork itself, no container */
.painting-grid {
  display: grid;
  gap: 1px;
  background: oklch(0 0 0 / 0.3);
}

.painting-pixel {
  aspect-ratio: 1;
}

/* Museum wall label — quiet typography below the work */
.painting-info {
  margin-top: 0.75rem;
}

.painting-link {
  text-decoration: none;
  color: inherit;
  transition: opacity 0.2s ease;
}

.painting-link:hover {
  opacity: 0.75;
}

.painting-title {
  font-family: var(--font-heading);
  font-size: 0.85rem;
  font-weight: 500;
  font-style: italic;
  color: var(--color-text-heading);
}

.painting-artist {
  font-family: var(--font-mono);
  font-size: 0.7rem;
  color: var(--color-text-muted);
  margin-top: 0.15rem;
}

.painting-error {
  text-align: center;
  font-family: var(--font-mono);
  font-size: 0.8rem;
  color: var(--color-text-muted);
  margin: 0;
  padding: 2rem 0;
}

/* Fallback skeleton */
.painting-skeleton {
  aspect-ratio: 4/5;
  background: linear-gradient(110deg, var(--color-bg) 30%, oklch(1 0 0 / 0.03) 50%, var(--color-bg) 70%);
  background-size: 200% 100%;
}

@media (prefers-reduced-motion: no-preference) {
  .painting-skeleton {
    animation: shimmer 1.5s ease-in-out infinite;
  }
}

@keyframes shimmer {
  from { background-position: 200% 0; }
  to { background-position: -200% 0; }
}

.painting-pixels-loading-text {
  font-family: var(--font-mono);
  font-size: 0.8rem;
  color: var(--color-text-muted);
}

@keyframes pulse-opacity {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.4; }
}

@media (prefers-reduced-motion: no-preference) {
  .painting-pixels-loading-text {
    animation: pulse-opacity 1.5s ease-in-out infinite;
  }
}
